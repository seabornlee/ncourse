来介绍一下端到端的加密通信。Peter 从2006年开始就由 Linux 和 GNU 项目进入开源社区了，社区里面很多大牛都是互联网的早期奠基人，让我感觉到奇怪的是，这些人都非常喜欢在自己博客上贴出自己的加密公钥。开始我觉得很奇怪，加密这个事不是只有银行军队那些大机构才关心的吗？多年过去了，我才慢慢理解了加密对个体的重要性，本文的标题是《端到端加密是一种生活方式》，熟悉胡适的朋友可能已经听出了，这里套用了“民主是一种生活方式”这句话。

## 加密通信

先来简单介绍一下什么是加密通信。

加密通信就是在发送信息的时候把信息加密成密文，然后在接收方把密文解密成信息的通信过程。注意，密文就是一些谁也看不懂的数据，信息的发送方通过密钥来加密信息，就可以得到密文。
网上传输的信息都是以密文的形式进行传播，所以攻击者即使获取到了密文，因为缺少密钥，也是不能获得信息的。而接收方是有密钥的，获得密文之后，在自己的设备，例如手机，上面就可以解密获得信息了。加密通信的主流技术包括对称加密和非对称加密两种，一般的做法是通过非对称加密的方式先交换对称加密的秘钥，然后用对称加密的方式去把大段的信息转换为密文。具体细节我们这里不展开，我之前录制过一门课程 https://learning.nervos.org/crypto-block《区块链背后的密码学》可以作为参考。

![](https://img.haoqicat.com/2018112201.jpg)

加密技术的意义在于保护用户的隐私。注意，隐私不是秘密，隐私是我不想让全世界都知道的事情，而秘密是我不希望任何人知道的事情。一个开放社会中，如果没有对弱势群体的隐私的保护，就会造成强势群体对弱势群体的剥夺。

总结起来，加密技术就是让用户可以在一个安全通道内进行安全通信的技术，目的在于保护隐私。

## 主流加密模式是一堵危墙

下面说说日常我们使用的各种通信方式的原理，注意，这里包括但是不限于咱们的邮件，即时通讯，语音通讯等等各种通信方式。试想一下，如果咱们日常的这些东西被攻击者拿到，公布到网络上任意的让人搜索，将会是多么恐怖的事情。一些人会觉得，那些大公司肯定已经考虑到了安全问题的，会尽力保证数据的安全的，但是我下面要说的是，目前采用的通信方式本身就是有漏洞的，所以真的谈不上安全。

主流方式下，客户端跟服务器之间的通信的确是加密的，但是服务器本身是可以拿到明文信息的。现在 Alice 要给 Bob 发送一条信息， Alice 在手机上先把信息加密然后再发送到服务器上，服务器给 Bob 发信息的时候也是先加密然后再发送给 Bob 的，所以网络上传输的的确都是密文。但是注意，这里加密通道的是客户端跟服务器之间建立的，也就意味着服务器就是接收方，服务器是可以解密密文获得明文的。而通常条件下，公司为了利用大数据获取商业利润，或者配合相关部门的监控需求，都是会保证能在服务器获得明文信息的。而这一点，就是整个通信过程的最大的安全漏洞。因为只要攻击者拿下服务器，就可以一次性获得数以亿计的人的多年的通信记录，里面的各种重要的隐私数据随便搜。

![](https://img.haoqicat.com/2018112202.jpg)


所以说，目前的主流加密通信方式是一堵危墙。

## 端对端加密

所以我们真正需要的是端对端的加密。这样，信息在发送方的客户端，例如 Alice 的手机上加密，而只有接收方，例如 Bob 的手机，上才能解密密文。端对端加密的英文是 End-to-end encryption ，缩写是 E2EE 。

端对端加密的最大的好处是安全。如果使用了端到端加密，那么攻击者即使攻克了我的手机，那么他能拿到的也只是我的聊天记录。如果攻克了服务器，那么他什么也拿不到，因为在端对端加密的条件下，服务器根本不保存密钥的，所以也根本不能解密密文。最近几年数据安全事件时有发生，类似 Facebook 的用户隐私泄露，棱镜门等等这些恶性的问题，在数据日益重要的未来，只可能愈发突出。最近几年，类似于 Instagram 这样的端对端加密通信工具的流行，以及各大公司的大型即时通讯工具对端对端加密的逐步部署，充分说明了人们的数据安全意识越来越强，所以合理的推演是未来端到端加密会变得越来越普遍。

![](https://img.haoqicat.com/2018112203.jpg)

总之，端到端加密是一种新的生活方式。

## 总结

关于端到端加密，我们就聊到这里。我们首先介绍了加密通信可以保证两点之间的信息不被第三方窃取，然后介绍了主流的互联网通信服务虽然采用了加密，但是服务器上却是可以获得明文信息的，所以通信过程根本谈不上私密也谈不上安全。最后，我们介绍了端到端加密就是要保证只有用户才能看到信息，从而保证沟通过程的真正的私密。

参考：

- https://zh.amnesty.org/more-resources/blog/%E5%8A%A0%E5%AF%86%E5%8F%8A%E5%85%B6%E9%87%8D%E8%A6%81%E6%80%A7%E7%AE%80%E6%98%93%E5%85%A5%E9%97%A8/
- https://www.youtube.com/watch?v=lvewypxw4rw
